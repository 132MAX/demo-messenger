(this.webpackJsonpmesenger=this.webpackJsonpmesenger||[]).push([[0],{120:function(e,t,n){e.exports={footer:"Footer_footer__7dIj9",copyright:"Footer_copyright__2wqDr"}},153:function(e,t,n){"use strict";n.r(t);var r=n(38),s=n(39),a=n(51),c=n(50),i=n(0),o=n.n(i),l=n(16),u=n(55),j=n(7),d=n(2),b=n(14),f=n(19),p=n(334),h=n(335),m=n(157),O=n(333),g=n(67),x=n.n(g),v=n(6),_=n.n(v),y=n(336),w=n(1),P=function(e){var t=e.portioNumber,n=e.setPortioNumber,r=e.leftPortinPageNumber,s=e.rightPortinPageNumber,a=e.onPageChanged,c=e.curentPage,i=e.pages,o=e.portionCount;return Object(w.jsxs)("div",{className:_()(x.a.pagination),children:[Object(w.jsx)("div",{className:"",children:t>1&&Object(w.jsx)(O.a,{onClick:function(){return n(t-1)},size:"sm",style:{background:"rgba(28, 117, 188, 0.8)",marginRight:10,borderColor:"rgba(28, 117, 188, 0.8)"},children:"  prev"})}),Object(w.jsx)("span",{style:{display:"flex"},children:Object(w.jsx)(y.a,{size:"sm",children:i.filter((function(e){return e>=r&&e<=s})).map((function(e){return Object(w.jsxs)(O.a,{className:c===e&&x.a.curentPage,style:{background:"rgba(28, 117, 188, 0.8)",borderColor:"rgba(28, 117, 188, 0.8)"},onClick:function(t){return a(e)},children:[" ",e]},e)}))})}),Object(w.jsx)("div",{className:"",children:t<o&&Object(w.jsx)(O.a,{onClick:function(){return n(t+1)},size:"sm",style:{background:"rgba(28, 117, 188, 0.8)",marginLeft:10,borderColor:"rgba(28, 117, 188, 0.8)"},children:"   next"})})]})},N=function(e){for(var t=Math.ceil(e.totalUsersCount/e.pageSize),n=[],r=1;r<=t;r++)n.push(r);var s=Math.ceil(t/10),a=Object(i.useState)(1),c=Object(b.a)(a,2),o=c[0],l=c[1],u=10*(o-1)+1,g=10*o;return Object(w.jsx)(p.a,{fluid:!0,children:Object(w.jsxs)(h.a,{className:" justify-content-between mt-1",children:[Object(w.jsxs)(m.a,{md:"9",children:[e.use.map((function(t){return Object(w.jsxs)("div",{className:x.a.user,children:[Object(w.jsxs)(f.b,{to:"/profile/"+t.id,children:[Object(w.jsx)("img",{className:x.a.photo,src:null!=t.photos.small?t.photos.small:"https://tvoyaparallel.ru/wp-content/uploads/2014/09/%D0%9C%D0%B8%D0%BD%D0%B8%D0%B0%D1%82%D1%8E%D1%80%D0%B03.jpg"}),Object(w.jsxs)("div",{children:[" ",t.name," "]})]}),Object(w.jsxs)("div",{children:[" ",t.followed?Object(w.jsx)(O.a,{variant:"outline-primary",disabled:e.followingInP.some((function(e){return e===t.id})),onClick:function(){e.unfollow(t.id)},children:"\u041e\u0442\u043f\u0438\u0441\u0430\u0442\u044c\u0441\u044f"}):Object(w.jsx)(O.a,{variant:"outline-primary",disabled:e.followingInP.some((function(e){return e===t.id})),onClick:function(){e.follow(t.id)},children:" \u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c"})]})]},t.id)})),Object(w.jsx)(P,Object(d.a)(Object(j.a)({pages:n,portioNumber:o,setPortioNumber:l,portionCount:s,leftPortinPageNumber:u,rightPortinPageNumber:g},"pages",n),e))]}),Object(w.jsx)(m.a,{})]})})},C=n(48),S=n(17),k=n(65),E=function(e){return e.usersPage.users},D=function(e){return e.usersPage.pageSize},I=function(e){return e.usersPage.totalUsersCount},T=function(e){return e.usersPage.curentPage},A=function(e){return e.usersPage.isFetching},F=function(e){return e.usersPage.followingInProgress},U=function(e){return e.auth.isAuth},M=function(e){Object(a.a)(n,e);var t=Object(c.a)(n);function n(){var e;Object(r.a)(this,n);for(var s=arguments.length,a=new Array(s),c=0;c<s;c++)a[c]=arguments[c];return(e=t.call.apply(t,[this].concat(a))).onPageChanged=function(t){e.props.getUsers(t,e.props.pageSize)},e}return Object(s.a)(n,[{key:"componentDidMount",value:function(){this.props.getUsers(this.props.curentPage,this.props.pageSize)}},{key:"render",value:function(){return Object(w.jsxs)(w.Fragment,{children:[this.props.isFetching?Object(w.jsx)(C.a,{}):"",Object(w.jsx)(N,{totalUsersCount:this.props.totalUsersCount,pageSize:this.props.pageSize,onPageChanged:this.onPageChanged,curentPage:this.props.curentPage,use:this.props.use,unfollow:this.props.unfollow,follow:this.props.follow,followingInP:this.props.followingInP})]})}}]),n}(o.a.Component);t.default=Object(S.compose)(Object(l.b)((function(e){return{use:E(e),pageSize:D(e),totalUsersCount:I(e),curentPage:T(e),isFetching:A(e),followingInP:F(e),isAuth:U(e)}}),{follow:u.c,unfollow:u.f,curentPages:u.a,toggleIsFetchingProgress:u.e,getUsers:u.d}),k.a)(M)},195:function(e,t,n){},196:function(e,t,n){},197:function(e,t,n){},23:function(e,t,n){"use strict";n.d(t,"d",(function(){return a})),n.d(t,"b",(function(){return c})),n.d(t,"a",(function(){return i})),n.d(t,"c",(function(){return o}));var r=n(117),s=n.n(r).a.create({withCredentials:!0,baseURL:"https://social-network.samuraijs.com/api/1.0/",headers:{"API-KEY":"ce58725c-b18c-4d8f-8605-6a7c69e7e189"}}),a={getUsers:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10;return s.get("users?page=".concat(e,"&count=").concat(t),{withCredentials:!0}).then((function(e){return e.data}))},follow:function(e){return s.post("follow/".concat(e))},unfollow:function(e){return s.delete("follow/".concat(e))},getProfile:function(e){return console.log("Obsolete metod. Plase profileAPI object"),c.getProfile(e)}},c={getProfile:function(e){return s.get("profile/"+e)},getStatus:function(e){return s.get("/profile/status/"+e)},updateStatus:function(e){return s.put("/profile/status/",{status:e})},savePhoto:function(e){var t=new FormData;return t.append("image",e),s.put("/profile/photo/",t,{headers:{"Content-Type":"multipat/form-data"}})},saveProfile:function(e){return s.put("/profile",e)}},i={me:function(){return s.get("auth/me")},login:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return s.post("auth/login",{email:e,password:t,rememberMe:n,captcha:r})},logout:function(){return s.delete("auth/login")}},o={getCaptchaUrl:function(){return s.get("/security/get-captcha-url")}}},26:function(e,t,n){e.exports={dialogs:"Dialog_dialogs__204KS",active:"Dialog_active__2IlEu",dialog:"Dialog_dialog__1V2Xk",message:"Dialog_message__3rt8q",dialogs__items:"Dialog_dialogs__items__13YkI",messages:"Dialog_messages__1RouV",profilText:"Dialog_profilText__2Akmv",whoToFollow:"Dialog_whoToFollow__1se_X",ElemwhoToFollow:"Dialog_ElemwhoToFollow__1vck1"}},324:function(e,t,n){"use strict";n.r(t);var r=n(0),s=n(27),a=n.n(s),c=(n(195),n(196),n(14)),i=n(338),o=n(334),l=n(339),u=(n(197),n(2)),j=n(38),d=n(39),b=n(51),f=n(50),p=(n(117),n(16)),h=n(19),m=n(340),O=n(156),g=n(333),x=n(1);var v=function(e){return Object(x.jsxs)("div",{className:"d-flex justify-content-between  align-items-center",children:[Object(x.jsxs)(m.a,{className:"d-flex",children:[Object(x.jsx)(O.a,{onClick:function(){return e.setExpanded(!0)},type:"search",placeholder:" \u041f\u043e\u0438\u0441\u043a",className:"me-2"}),Object(x.jsx)(g.a,{variant:"warning",className:"text-white",onClick:function(){return e.setExpanded(!1)},children:" \u041f\u043e\u0438\u0441\u043a"})]}),Object(x.jsx)(l.a.Link,{href:"#action1",className:"text-white",onClick:function(){return e.setExpanded(!1)},children:"\u0414\u043e\u043c\u043e\u0439"}),Object(x.jsx)(l.a.Link,{href:"#i",className:"text-white",onClick:function(){return e.setExpanded(!1)},children:e.isAuth&&Object(x.jsx)("div",{style:{display:"flex"},children:Object(x.jsx)("a",{children:e.login})})}),e.isAuth?Object(x.jsx)(l.a.Link,{className:"text-white text-nowrap",onClick:function(){e.logout(),e.setExpanded(!1)},children:"\u0412\u044b\u0439\u0442\u0438   "}):Object(x.jsx)(h.b,{to:"/login",className:"text-white",onClick:function(){return e.setExpanded(!1)},children:"\u0412o\u0439\u0442\u0438"})]})},_=n(54),y=n.n(_),w=n(76),P=n(23),N=n(30),C="SET-USER-DATA",S="GET-CAPTCHA-URL-SUCCESS",k={id:null,email:null,login:null,isAuth:!1,captchaUrl:null},E=function(e,t,n,r){return{type:C,payload:{id:e,email:t,login:n,isAuth:r}}},D=function(){return function(e){P.a.me().then((function(t){if(0===t.data.resultCode){var n=t.data.data,r=n.email,s=n.id,a=n.login;e(E(s,r,a,!0))}}))}},I=function(){return function(){var e=Object(w.a)(y.a.mark((function e(t){var n,r;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,P.c.getCaptchaUrl();case 2:n=e.sent,r=n.data.url,t({type:S,payload:{url:r}});case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},T=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:k,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case C:return Object(u.a)(Object(u.a)({},e),t.payload);case S:return Object(u.a)(Object(u.a)({},e),{},{captchaUrl:t.url});default:return e}},A=function(e){Object(b.a)(n,e);var t=Object(f.a)(n);function n(){return Object(j.a)(this,n),t.apply(this,arguments)}return Object(d.a)(n,[{key:"render",value:function(){return Object(x.jsx)(v,Object(u.a)({},this.props))}}]),n}(r.Component),F=Object(p.b)((function(e){return{isAuth:e.auth.isAuth,login:e.auth.login}}),{logout:function(){return function(e){P.a.logout().then((function(t){0===t.data.resultCode&&e(E(null,null,null,!1))}))}}})(A);var U=function(){var e=Object(r.useState)(!1),t=Object(c.a)(e,2),n=t[0],s=t[1];return Object(x.jsx)("div",{children:Object(x.jsxs)(i.a,{expand:"md",expanded:n,bg:"dark ",className:"header",children:["     ",Object(x.jsxs)(o.a,{fluid:"lg",children:["                 ",Object(x.jsxs)(i.a.Brand,{href:"#",children:[" ",Object(x.jsx)("img",{src:"https://themified.com/friend-finder/images/logo.png",alt:""})]}),Object(x.jsx)(i.a.Toggle,{onClick:function(){return s(!n&&"expanded")},"aria-controls":"navbarScroll"})," ",Object(x.jsx)(i.a.Collapse,{id:"navbarScroll",className:"flex-grow-0",collapsed:!0,children:Object(x.jsx)(l.a,{className:"me-auto my-1 flex-grow-0 ",style:{maxHeight:"100px"},navbarScroll:!0,children:Object(x.jsx)(F,{setExpanded:s})})})]})]})})},M=n(97),z=n.n(M),B=n(12);var L=function(e){e.classes;var t=Object(p.d)((function(e){return e.auth.id})),n=Object(p.d)((function(e){return e.profilePage.profile})),r=Object(p.d)((function(e){return e.auth.login})),s=null,a=null,c=Object(B.h)().userId;c||(c=t),null!=n&&(s=n.photos.small),null!=n&&(a=n.userId);var i=[{link:"/profile/"+c,name:"\u041f\u0440\u043e\u0444\u0438\u043b\u044c"},{link:"/dialog",name:"\u041c\u0435\u0441\u0441\u0435\u043d\u0434\u0436\u0435\u0440"},{link:"/news",name:"\u041d\u043e\u0432\u043e\u0441\u0442\u0438"},{link:"/users",name:"\u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0438"}];return Object(x.jsxs)("div",{className:z.a.conteiner,children:[Object(x.jsxs)("div",{className:z.a.conteiner__elem,children:[t==a&&Object(x.jsx)("img",{src:s||"https://tvoyaparallel.ru/wp-content/uploads/2014/09/%D0%9C%D0%B8%D0%BD%D0%B8%D0%B0%D1%82%D1%8E%D1%80%D0%B03.jpg"}),Object(x.jsx)("h4",{children:r})]}),i.map((function(e){return Object(x.jsx)(h.b,{to:e.link,className:function(e){return e.isActive?z.a.active:""},children:e.name},e)}))]})},R=n(7),H=n(48),G=n(5),J=n(151),q=n(98),V=n.n(q),W=["input","meta","child"],K=["input","meta","child"],X=function(e){e.input;var t=e.meta,n=t.touched,r=t.error,s=e.children,a=n&&r;return Object(x.jsxs)("div",{className:V.a.formControl+" "+(a&&V.a.error),children:[Object(x.jsx)("div",{className:V.a.oleg,children:s}),a&&Object(x.jsx)("span",{children:r})]})},Y=function(e){var t=e.input,n=(e.meta,e.child,Object(G.a)(e,W));return Object(x.jsxs)(X,Object(u.a)(Object(u.a)({},e),{},{children:[Object(x.jsx)("textarea",Object(u.a)(Object(u.a)({},t),n))," "]}))},Z=function(e){var t=e.input,n=(e.meta,e.child,Object(G.a)(e,K));return Object(x.jsxs)(X,Object(u.a)(Object(u.a)({},e),{},{children:[Object(x.jsx)("input",Object(u.a)(Object(u.a)({},t),n))," "]}))},Q=function(e,t,n,r){var s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"";return Object(x.jsxs)("div",{className:"",children:[Object(x.jsx)(J.a,Object(u.a)({placeholder:e,name:t,validate:n,component:r},s)),a]})},$=n(152),ee=function(e){if(!e)return"Fild is required"},te=function(e){return function(t){return t.length>e?"Must be ".concat(e," characters or less"):void 0}};var ne=Object($.a)({form:"edit-profile",enableReinitialize:!0})((function(e){return Object(x.jsxs)("form",{onSubmit:e.handleSubmit,children:[e.error&&Object(x.jsx)("div",{children:e.error}),Object(x.jsx)(g.a,{variant:"outline-primary",children:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"}),Object(x.jsxs)("p",{children:[Object(x.jsx)("b",{children:" \u0418\u043c\u044f"}),": ",Q("\u0418\u043c\u044f","fullName",[ee],Z)]}),Object(x.jsxs)("p",{children:["\u0418\u0449\u0443 \u0440\u0430\u0431\u043e\u0442\u0443 :",Q("","lookingForAJob",[],Z,{type:"checkbox"})]}),Object(x.jsxs)("p",{children:["\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435 \u0440\u0430\u0431\u043e\u0442\u044b:",Q(" \u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435 \u0440\u0430\u0431\u043e\u0442\u044b","lookingForAJobDescription",[ee],Z)]}),Object(x.jsxs)("p",{children:[Object(x.jsx)("b",{children:" \u041e\u0431\u043e \u043c\u043d\u0435"}),": ",Q("\u043e\u0431\u043e \u043c\u043d\u0435","aboutMe",[ee],Y)]}),Object(x.jsxs)("p",{children:[Object(x.jsx)("b",{children:" Contacts"})," : ",Object.keys(e.profile.contacts).map((function(e){return Object(x.jsxs)("div",{className:"",children:[Object(x.jsx)("span",{children:e}),":",Q(e,"contacts."+e,[],Z)]})}))]})]})})),re=function(e){var t=Object(r.useState)(!1),n=Object(c.a)(t,2),s=n[0],a=n[1],i=Object(r.useState)(e.status),o=Object(c.a)(i,2),l=o[0],u=o[1];Object(r.useEffect)((function(){u(e.status)}),[e.status]);var j;return j=e.profile?Object(x.jsx)("div",{children:s?Object(x.jsx)("input",{type:"text",placeholder:e.status,onChange:function(e){u(e.target.value),console.log(l)},onBlur:function(){a(!s),e.updateStatus(l)}}):Object(x.jsx)("h4",{onDoubleClick:function(){return a(!0)},children:e.status||"===="})}):Object(x.jsx)(H.a,{}),Object(x.jsx)("div",{children:j})},se=n(335),ae=n(157),ce=n(33),ie=n.n(ce),oe=n(21),le="ADD-POST",ue="SET-USER-PROFILE",je="SET-STATUS",de="SAVE-PHOTO-SUCCESS",be={post:[{id:1,messag:"Hi",likes:1},{id:2,messag:"It s my first post",likes:7}],profile:null,status:"",newPostText:""},fe=function(e){return{type:je,status:e}},pe=function(e){return function(t){P.b.getProfile(e).then((function(e){var n;t((n=e.data,{type:ue,profile:n}))}))}},he=function(e){return function(t){P.b.getStatus(e).then((function(e){t(fe(e.data))}))}},me=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:be,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case le:var n={id:5,messag:t.value,likes:0};return Object(u.a)(Object(u.a)({},e),{},{post:[].concat(Object(oe.a)(e.post),[n]),newPostText:""});case ue:return Object(u.a)(Object(u.a)({},e),{},{profile:t.profile});case je:return Object(u.a)(Object(u.a)({},e),{},{status:t.status});case de:return Object(u.a)(Object(u.a)({},e),{},{profile:Object(u.a)(Object(u.a)({},e.profile),{},{photos:t.photos})});default:return e}},Oe=n(337);var ge=function(e){var t=Object(p.d)((function(e){return e.profilePage.profile})),n=null;return null!=t&&(n=t.photos.small),Object(x.jsxs)("div",{style:{display:"flex",marginTop:15},children:[Object(x.jsx)(Oe.a,{alt:"Remy Sharp",src:n}),Object(x.jsx)("p",{style:{marginTop:5},children:e.messag}),Object(x.jsx)("p",{style:{color:"red",margin:" 5px 0px 0px 10px"},children:e.likes})]})},xe=n(34),ve=n.n(xe),_e=["input","meta"],ye=["input","meta"],we=function(e){var t=e.input,n=e.meta,r=Object(G.a)(e,_e),s=n.touched&&n.error;return Object(x.jsxs)("div",{className:ve.a.formControl+" "+(s&&ve.a.error),children:[Object(x.jsx)("div",{className:"",children:Object(x.jsx)("textarea",Object(u.a)(Object(u.a)({className:ve.a.oleg},t),r))}),Object(x.jsx)("div",{className:"",children:s&&Object(x.jsxs)("span",{children:["   ",n.error," "]})})]})},Pe=function(e){var t=e.input,n=e.meta,r=Object(G.a)(e,ye),s=n.touched&&n.error;return Object(x.jsxs)("div",{className:ve.a.formControl+" "+(s&&ve.a.error),children:[Object(x.jsx)("div",{className:"",children:Object(x.jsx)("input",Object(u.a)(Object(u.a)({className:ve.a.oleg},t),r))}),Object(x.jsx)("div",{className:"",children:s&&Object(x.jsxs)("span",{children:["   ",n.error," "]})})]})},Ne=te(10),Ce=Object($.a)({form:"post"})((function(e){return Object(x.jsxs)("form",{onSubmit:e.handleSubmit,children:[Object(x.jsx)(g.a,{onClick:e.handleSubmit,variant:"outline-primary",children:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c"}),Object(x.jsx)(J.a,{className:ie.a.profilText,component:we,name:"posts",validate:[ee,Ne],placeholder:"My post messenger"})]})}));var Se=function(e){return Object(x.jsxs)("div",{children:[Object(x.jsx)(Ce,{onSubmit:function(t){e.addPost(t.posts)}}),Object(x.jsx)("div",{className:ie.a.posts,children:e.post.map((function(e,t){return Object(x.jsx)(ge,{messag:e.messag,likes:e.likes},t)}))})]})},ke=Object(p.b)((function(e){return{post:e.profilePage.post,newPostText:e.profilePage.newPostText}}),(function(e){return{addPost:function(t){e(function(e){return{type:le,value:e}}(t))}}}))(Se);var Ee=function(e){return Object(x.jsx)(se.a,{className:" justify-content-between mt-1",children:Object(x.jsxs)(ae.a,{fluid:!0,children:[e.myElemId==e.elemId&&Object(x.jsx)(g.a,{variant:"outline-primary",onClick:e.toEditMode,children:" \u0420\u0435\u0434\u043e\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c "}),Object(x.jsxs)("p",{children:[Object(x.jsx)("b",{children:" \u0418\u043c\u044f"}),": ",e.profile.fullName]}),Object(x.jsxs)("p",{children:[Object(x.jsx)("b",{children:"  \u0418\u0449\u0443 \u0440\u0430\u0431\u043e\u0442\u0443 "})," : ",e.profile.lookingForAJob?"yes":"no"]}),e.profile.lookingForAJob&&Object(x.jsxs)("h5",{children:[" \u041c\u043e\u044f \u043f\u0440\u043e\u0444\u0435\u0441\u0441\u0438\u044f :",e.profile.lookingForAJobDescription]}),Object(x.jsxs)("p",{children:[Object(x.jsx)("b",{children:" \u041e\u0431\u043e \u043c\u043d\u0435"}),": ",e.profile.aboutMe]}),Object(x.jsxs)("p",{children:[Object(x.jsx)("b",{children:" \u041a\u043e\u043d\u0442\u0430\u043a\u0442\u044b"})," : ",Object.keys(e.profile.contacts).map((function(t){return Object(x.jsx)(De,{contactTitle:t,contactValue:e.profile.contacts[t]},t)}))]})]})})},De=function(e){var t=e.contactTitle,n=e.contactValue;return Object(x.jsxs)("div",{className:"",children:["- ",Object(x.jsx)("b",{children:t}),": ",n]})},Ie=function(e){var t,n,s,a,i,l,j,d=Object(r.useState)(!1),b=Object(c.a)(d,2),f=b[0],p=b[1];return t=e.profile?e.profile.userId:0,n=e.profile?e.idUser:1,s=e.profile?Object(x.jsxs)(o.a,{fluid:!0,children:[Object(x.jsxs)(se.a,{className:" justify-content-between mt-1",children:[Object(x.jsxs)(ae.a,(a={md:"3"},Object(R.a)(a,"md",{order:"first",offset:0}),Object(R.a)(a,"sm","12"),Object(R.a)(a,"sm",{order:"last",offset:1}),Object(R.a)(a,"className",ie.a.profilImg),Object(R.a)(a,"children",[Object(x.jsx)("img",{src:e.profile.photos.large||"https://tvoyaparallel.ru/wp-content/uploads/2014/09/%D0%9C%D0%B8%D0%BD%D0%B8%D0%B0%D1%82%D1%8E%D1%80%D0%B03.jpg",className:ie.a.profil}),n==t&&Object(x.jsx)(O.a,{variant:"outline-primary",type:"file",onChange:function(t){t.target.files.length&&e.savePhoto(t.target.files[0])},className:ie.a.form_control})]),a)),Object(x.jsxs)(ae.a,(i={md:"8 "},Object(R.a)(i,"md",{order:"last"}),Object(R.a)(i,"sm","12"),Object(R.a)(i,"sm",{order:"first"}),Object(R.a)(i,"children",[Object(x.jsxs)("h1",{style:{fontWeight:"500",fontSize:20,whiteSpace:"nowrap"},children:[Object(x.jsx)("span",{className:ie.a.name,children:"\u0418\u043c\u044f: "}),e.profile.fullName,Object(x.jsxs)("p",{children:[" ",Object(x.jsx)("span",{className:ie.a.name,children:"C\u043f\u0435\u0446\u0438\u0430\u043b\u0438\u0441\u0442:"})," ",e.profile.lookingForAJobDescription]})]}),Object(x.jsxs)("div",{className:ie.a.write,children:["\u041d\u0430\u043f\u0438\u0448\u0438\u0442\u0435, \u0447\u0442\u043e \u0432\u044b \u0445\u043e\u0442\u0438\u0442\u0435",Object(x.jsx)(re,Object(u.a)({},e))]})]),i))]}),Object(x.jsxs)(se.a,{className:ie.a.container_blok,children:[Object(x.jsx)(ae.a,(l={md:"2"},Object(R.a)(l,"md",{order:"first",offset:0}),Object(R.a)(l,"sm","12"),Object(R.a)(l,"sm",{order:"last",offset:1}),Object(R.a)(l,"children",n==t&&f?Object(x.jsx)(ne,Object(u.a)(Object(u.a)({initialValues:e.profile},e),{},{onSubmit:function(t){e.saveProfile(t).then((function(){p(!1)}))},toEditMode:function(){return p(!1)}})):Object(x.jsx)(Ee,Object(u.a)(Object(u.a)({},e),{},{toEditMode:function(){return p(!0)}}))),l)),Object(x.jsx)(ae.a,(j={md:"8 "},Object(R.a)(j,"md",{order:"last"}),Object(R.a)(j,"sm","12"),Object(R.a)(j,"sm",{order:"first"}),Object(R.a)(j,"children",Object(x.jsx)(ke,{})),j))]})]}):Object(x.jsx)(H.a,{}),Object(x.jsx)("div",{children:s})};var Te=function(e){return Object(x.jsx)("div",{children:Object(x.jsx)(Ie,Object(u.a)({},e))})},Ae=n(17),Fe=n(65),Ue=Object(Ae.compose)(Object(p.b)((function(e){return{profile:e.profilePage.profile,isAuth:e.auth.isAuth,idUser:e.auth.id,status:e.profilePage.status}}),{getUserProfile:pe,getUserStatus:he,updateStatus:function(e){return function(t){P.b.updateStatus(e).then((function(n){0===n.data.resultCode&&t(fe(e))}))}},savePhoto:function(e){return function(){var t=Object(w.a)(y.a.mark((function t(n){var r;return y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,P.b.savePhoto(e);case 2:0===(r=t.sent).data.resultCode&&n((s=r.data.data.photos,{type:de,photos:s}));case 4:case"end":return t.stop()}var s}),t)})));return function(e){return t.apply(this,arguments)}}()},saveProfile:function(e){return function(){var t=Object(w.a)(y.a.mark((function t(n,r){var s,a;return y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return s=r().auth.id,t.next=3,P.b.saveProfile(e);case 3:0===(a=t.sent).data.resultCode?(console.log(s),n(pe(s))):n(Object(N.b)("edit-profile",{_error:a.data.messages[0]}));case 5:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()}}),Fe.a)((function(e){var t=Object(B.h)().userId;t||(t=e.idUser);var n=Object(p.c)();return Object(r.useEffect)((function(){n(pe(t)),n(he(t))}),[t]),Object(x.jsx)(Te,{idUser:e.idUser,props:e,profile:e.profile,status:e.status,updateStatus:e.updateStatus,savePhoto:e.savePhoto,saveProfile:e.saveProfile})})),Me=n(26),ze=n.n(Me);var Be=function(e){var t="/dialog/"+e.id;return Object(x.jsx)("div",{className:ze.a.dialog+" "+(e.numID===e.id?ze.a.active:""),onClick:function(){return e.setNumId(e.id)},children:Object(x.jsxs)(h.b,{to:t,children:[Object(x.jsx)("img",{src:e.photo}),Object(x.jsxs)("span",{children:[e.name,"  "]}),Object(x.jsxs)("small",{class:"text-muted",children:[e.id," \u0447\u0430\u0441\u043e\u0432 \u043d\u0430\u0437\u0430\u0434"]})]})})};var Le=function(e){return Object(x.jsx)("div",{className:ze.a.message,children:e.messege})};var Re=function(e){return Object(x.jsxs)("div",{style:{padding:5},className:ze.a.whoToFollow,children:[Object(x.jsx)("img",{style:{paddingRight:5},src:e.photo,alt:""}),Object(x.jsx)("span",{children:e.name})]})};var He=te(100),Ge=Object($.a)({form:"message",onSubmitSuccess:function(e,t){return t(Object(N.a)("message"))}})((function(e){return Object(x.jsxs)("form",{onSubmit:e.handleSubmit,children:[Object(x.jsx)("div",{children:Object(x.jsx)(J.a,{component:we,className:ze.a.profilText,validate:[ee,He],placeholder:"Enter your messager",name:"newMessageBody"})}),Object(x.jsx)("br",{}),Object(x.jsx)("div",{children:Object(x.jsx)(g.a,{onClick:e.handleSubmit,variant:"outline-primary",children:"\u041e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c"})})]})})),Je=function(e){var t=Object(r.useState)(7),n=Object(c.a)(t,2),s=n[0],a=n[1];console.log(s);var i=e.messagesPage,o=i.message.filter((function(e){return e.id==s})).map((function(e,t){return Object(x.jsx)(Le,{messege:e.messag},t)})),l=i.dialogs.map((function(e,t){return Object(x.jsx)(Be,{setNumId:a,numID:s,name:e.name,photo:e.photo,id:e.id},t)})),u=i.whoToFollow.map((function(e,t){return Object(x.jsx)(Re,{name:e.name,photo:e.photo},t)}));return e.isAuth?Object(x.jsxs)("div",{className:ze.a.dialogs,children:[Object(x.jsxs)(se.a,{fluid:!0,children:[Object(x.jsx)(ae.a,{lg:"4",className:ze.a.dialogs__items,children:l}),Object(x.jsx)(ae.a,{lg:"5",className:ze.a.messages,children:o}),Object(x.jsxs)(ae.a,{className:ze.a.ElemwhoToFollow,children:[Object(x.jsx)("p",{style:{color:" #6d6e71"},children:"Who to Follow"}),u]})]}),Object(x.jsx)(se.a,{fluid:!0,children:Object(x.jsx)(ae.a,{lg:{span:4,offset:4},children:Object(x.jsx)(Ge,{onSubmit:function(t){e.sendMessage(t.newMessageBody,s)}})})})]}):Object(x.jsx)(B.a,{to:"/login"})},qe=(n(153),te(20)),Ve=Object($.a)({form:"login"})((function(e){return Object(x.jsxs)("form",{onSubmit:e.handleSubmit,children:[Object(x.jsx)("div",{className:"",children:Object(x.jsx)(J.a,{component:Pe,validate:[ee,qe],type:"text",name:"email",placeholder:"Email",className:ve.a.login})}),Object(x.jsx)("div",{className:"",children:Object(x.jsx)(J.a,{component:Pe,validate:[ee,qe],type:"password",name:"password",placeholder:"Password",className:ve.a.login})}),Object(x.jsxs)("div",{className:"",children:[Object(x.jsx)(J.a,{component:Pe,validate:[ee,qe],type:"checkbox",name:"rememberMe"})," remember me"]}),e.error&&Object(x.jsx)("div",{className:ve.a.formSumaryEror,children:e.error}),e.captchaUrl&&Object(x.jsxs)("div",{className:"",children:[Object(x.jsx)("img",{src:e.captchaUrl,alt:""}),Object(x.jsx)(J.a,{component:Pe,validate:[ee],type:"text",name:"captcha",placeholder:"Captcha"})]}),Object(x.jsx)("div",{className:"",children:Object(x.jsx)(g.a,{onClick:e.handleSubmit,variant:"outline-primary",children:"Login"})}),"Email/  p132@ro.ru Password/ 123456778"]})})),We=Object(p.b)((function(e){return{isAuth:e.auth.isAuth,captchaUrl:e.auth.captchaUrl}}),{login:function(e,t,n,r){return function(s){P.a.login(e,t,n,r).then((function(e){if(0===e.data.resultCode)s(D());else{10===e.data.resultCode&&s(I());var t=e.data.messages.length>0?e.data.messages[0]:"Sone error";s(Object(N.b)("login",{_error:t}))}}))}}})((function(e){return e.isAuth?Object(x.jsx)(B.a,{to:"/profile/21413"}):Object(x.jsxs)("div",{children:[Object(x.jsx)("h1",{children:"Login"}),Object(x.jsx)(Ve,{captchaUrl:e.captchaUrl,onSubmit:function(t){e.login(t.email,t.password,t.rememberMe,t.captcha)}})]})})),Ke="INITIALIZED-SUCCESS",Xe={initialized:!1},Ye=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Xe,t=arguments.length>1?arguments[1]:void 0;return t.type===Ke?Object(u.a)(Object(u.a)({},e),{},{initialized:!0}):e},Ze=n(120),Qe=n.n(Ze),$e=[{title:"\u0414\u043b\u044f \u0444\u0438\u0437\u0438\u0447\u0435\u0441\u043a\u0438\u0445 \u043b\u0438\u0446",reference:["\u0417\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u0442\u044c\u0441\u044f","A\u0432\u0442\u043e\u0440\u0438\u0437\u043e\u0432\u0430\u0442\u044c\u0441\u044f"," \u041f\u0440\u043e\u0432\u043e\u0434\u0438\u0442\u044c \u0438\u0441\u0441\u043b\u0435\u0434\u043e\u0432\u0430\u043d\u0438\u044f"," \u041f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u0435 \u0434\u043b\u044f \u043f\u043e\u0438\u0441\u043a\u0430"," \u0424\u0443\u043d\u043a\u0446\u0438\u0438"," \u042f\u0437\u044b\u043a\u043e\u0432\u044b\u0435 \u043d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438"]},{title:"\u0414\u043b\u044f \u0431\u0438\u0437\u043d\u0435\u0441\u0430",reference:["\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f \u0431\u0438\u0437\u043d\u0435\u0441\u0430","\u0411\u0438\u0437\u043d\u0435\u0441-\u043b\u043e\u0433\u0438\u043d","\u041f\u0440\u0435\u0438\u043c\u0443\u0449\u0435\u0441\u0442\u0432\u0430","\u0420\u0435\u0441\u0443\u0440\u0441\u044b","\u0420\u0435\u043a\u043b\u0430\u043c\u0438\u0440\u043e\u0432\u0430\u0442\u044c","\u041d\u0430\u0441\u0442\u0440\u0430\u0438\u0432\u0430\u0442\u044c"]},{title:"\u041e \u043d\u0430\u0441",reference:["\u041e \u043d\u0430\u0441","\u0421\u0432\u044f\u0437\u0430\u0442\u044c\u0441\u044f \u0441 \u043d\u0430\u043c\u0438","\u041f\u043e\u043b\u0438\u0442\u0438\u043a\u0430 \u043a\u043e\u043d\u0444\u0438\u0434\u0435\u043d\u0446\u0438\u0430\u043b\u044c\u043d\u043e\u0441\u0442\u0438","\u0423\u0441\u043b\u043e\u0432\u0438\u044f","\u041f\u043e\u043c\u043e\u0449\u044c"]},{title:"\u0421\u0432\u044f\u0437\u0430\u0442\u044c\u0441\u044f \u0441 \u043d\u0430\u043c\u0438",reference:["8 (846) 332-64-22","info@tinf-team.com","443010 \u0420\u0424 \u0421\u0430\u043c\u0430\u0440\u0430 \u041d\u0430 \u0414\u043d\u0435 "]}];var et=function(){return Object(x.jsxs)("div",{className:Qe.a.footer,children:[Object(x.jsx)(o.a,{fluid:"lg",children:Object(x.jsxs)(se.a,{className:" p-4",children:[Object(x.jsxs)(ae.a,{md:"2",sm:"12",children:[Object(x.jsx)("img",{src:"\thttps://themified.com/friend-finder/images/logo-black.png",alt:""}),Object(x.jsx)("div",{})]}),$e.map((function(e){return Object(x.jsx)(ae.a,{md:"2",sm:"6",children:Object(x.jsxs)("ul",{children:[Object(x.jsx)("li",{children:e.title}),e.reference.map((function(e){return Object(x.jsxs)("li",{children:[" ",e]},e)}))]})},e)}))]})}),Object(x.jsx)("div",{className:Qe.a.copyright,children:Object(x.jsx)("p",{children:"Thunder Team \xa9 2016. All rights reserved"})})]})},tt="SEND-MESSAGE",nt={dialogs:[{id:7,name:"Dimi",photo:"https://themified.com/friend-finder/images/users/user-2.jpg"},{id:10,name:"A\u043d\u043d\u0430",photo:"https://themified.com/friend-finder/images/users/user-10.jpg"},{id:9,name:"\u0421\u0432\u0435\u0442\u0430",photo:"https://themified.com/friend-finder/images/users/user-3.jpg"},{id:15,name:"Viktor",photo:"https://themified.com/friend-finder/images/users/user-4.jpg"}],message:[{id:15,messag:"HI"},{id:10,messag:"HOW"},{id:9,messag:"YO"},{id:7,messag:"   \u0412 \u043f\u043e\u0440\u044f\u0434\u043a\u0435 \u043f\u0440\u0435\u043a\u0440\u0430\u0441\u043d\u043e. \u0421\u043f\u0430\u0441\u0438\u0431\u043e"}],whoToFollow:[{name:"\u041a\u043e\u043b\u044f",photo:"https://themified.com/friend-finder/images/users/user-12.jpg"},{photo:"https://themified.com/friend-finder/images/users/user-11.jpg",name:"\u0413\u0430\u043b\u044f \u041c\u0435\u0435\u0433"},{name:"\u0421\u043e\u043d\u044f \u0414\u0430\u043b\u044c",photo:"https://themified.com/friend-finder/images/users/user-15.jpg"},{name:"Jim ",photo:"https://themified.com/friend-finder/images/users/user-14.jpg"},{name:"\u0411\u043e\u0440\u044f",photo:"\thttps://themified.com/friend-finder/images/users/user-13.jpg"}]},rt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:nt,t=arguments.length>1?arguments[1]:void 0;if(t.type===tt){var n=t.newMessageBody,r=t.numID;return Object(u.a)(Object(u.a)({},e),{},{message:[e.message.filter((function(e){return e.id===r}))].concat(Object(oe.a)(e.message),[{id:r,messag:n}])})}return e},st=Object(Ae.compose)(Object(p.b)((function(e){return{messagesPage:e.messagesPage,isAuth:e.auth.isAuth}}),(function(e){return{sendMessage:function(t,n){e(function(e,t){return{type:tt,newMessageBody:e,numID:t}}(t,n))}}})),Fe.a)(Je),at=n(163),ct=(n(323),Object(at.a)((function(){return Promise.resolve().then(n.bind(null,153))})));var it=Object(p.b)((function(e){return{initialized:e.app.initialized}}),{initializApp:function(){return function(e){var t=e(D());Promise.all([t]).then((function(){e({type:Ke})}))}}})((function(e){return Object(r.useEffect)((function(){e.initializApp()}),[]),e.initialized?Object(x.jsxs)("div",{className:"App",children:[Object(x.jsx)(U,{}),Object(x.jsx)(o.a,{fluid:"lg",children:Object(x.jsxs)(se.a,{className:" justify-content-between  mt-5",children:[Object(x.jsx)(ae.a,{md:"3",children:Object(x.jsx)(L,{})}),Object(x.jsx)(ae.a,{md:"9",children:Object(x.jsxs)(B.d,{children:[Object(x.jsx)(B.b,{path:"/",element:Object(x.jsx)(Ue,{})}),"  ",Object(x.jsx)(B.b,{exact:!0,path:"/profile/:userId",element:Object(x.jsx)(Ue,{})}),"  ",Object(x.jsx)(B.b,{path:"/dialog/*",element:Object(x.jsx)(st,{})}),Object(x.jsx)(B.b,{path:"/users/*",element:Object(x.jsx)(ct,{})}),Object(x.jsx)(B.b,{path:"/login/*",element:Object(x.jsx)(We,{})}),Object(x.jsx)(B.b,{path:"*",element:Object(x.jsx)("h1",{children:"404 NOT FOUND"})}),"  "]})})]})}),Object(x.jsx)(et,{})]}):Object(x.jsx)(H.a,{})})),ot=n(161),lt={},ut=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:lt;return e},jt=n(55),dt=n(162),bt=n(154),ft=Object(Ae.combineReducers)({profilePage:me,messagesPage:rt,sidebar:ut,usersPage:jt.b,auth:T,app:Ye,form:bt.a}),pt=Object(ot.composeWithDevTools)(Object(Ae.applyMiddleware)(dt.a)),ht=Object(Ae.createStore)(ft,pt);window.store=ht;var mt=ht;a.a.render(Object(x.jsx)(h.a,{children:Object(x.jsx)(p.a,{store:mt,children:Object(x.jsx)(it,{})})}),document.getElementById("root"))},33:function(e,t,n){e.exports={post:"MyPost_post__vgt-1",profil:"MyPost_profil__wzg-k",name:"MyPost_name__2d5a3",profilImg:"MyPost_profilImg__1vmez",form_control:"MyPost_form_control__pNMBb",write:"MyPost_write__3Sb3I",s:"MyPost_s__3BtKq",container_blok:"MyPost_container_blok__3Xsqq",profilText:"MyPost_profilText__1cySl"}},34:function(e,t,n){e.exports={formControl:"FormsControls_formControl__2EyPL",error:"FormsControls_error__rTt0C",formSumaryEror:"FormsControls_formSumaryEror__3n_14",login:"FormsControls_login__2xjdh"}},48:function(e,t,n){"use strict";var r=n(1);t.a=function(e){return Object(r.jsx)("img",{src:"https://flyclipart.com/thumb2/image-934460.png"})}},55:function(e,t,n){"use strict";n.d(t,"a",(function(){return h})),n.d(t,"e",(function(){return O})),n.d(t,"d",(function(){return g})),n.d(t,"c",(function(){return x})),n.d(t,"f",(function(){return v}));var r=n(21),s=n(2),a=n(23),c="FOLLOW",i="UNFOLLOW",o="SET-USERS",l="CURENT-PAGE",u="USERS-COUNT",j="TOGLE-IS-FETCHING",d="TOGLE-IS-FETCHING-PROGRESS",b={users:[],pageSize:5,totalUsersCount:0,curentPage:1,isFetching:!1,followingInProgress:[]},f=function(e){return{type:c,userId:e}},p=function(e){return{type:i,userId:e}},h=function(e){return{type:l,num:e}},m=function(e){return{type:j,isFetching:e}},O=function(e,t){return{type:d,isFetching:e,userId:t}},g=function(e,t){return function(n){m(!0),n(h(e)),a.d.getUsers(e,t).then((function(e){var t,r;n(m(!1)),n((t=e.items,{type:o,users:t})),n((r=e.totalCount,{type:u,num:r}))}))}},x=function(e){return function(t){t(O(!0,e)),a.d.follow(e).then((function(n){0===n.data.resultCode&&t(f(e)),t(O(!1,e))})),t(f(e))}},v=function(e){return function(t){t(O(!0,e)),a.d.unfollow(e).then((function(n){0===n.data.resultCode&&t(p(e)),t(O(!1,e))})),t(p(e))}};t.b=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:b,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case c:return Object(s.a)(Object(s.a)({},e),{},{users:e.users.map((function(e){return e.id===t.userId?Object(s.a)(Object(s.a)({},e),{},{followed:!0}):e}))});case i:return Object(s.a)(Object(s.a)({},e),{},{users:e.users.map((function(e){return e.id===t.userId?Object(s.a)(Object(s.a)({},e),{},{followed:!1}):e}))});case o:return Object(s.a)(Object(s.a)({},e),{},{users:t.users});case l:return Object(s.a)(Object(s.a)({},e),{},{curentPage:t.num});case u:return Object(s.a)(Object(s.a)({},e),{},{totalUsersCount:t.num});case j:return Object(s.a)(Object(s.a)({},e),{},{isFetching:t.isFetching});case d:return Object(s.a)(Object(s.a)({},e),{},{followingInProgress:t.isFetching?[].concat(Object(r.a)(e.followingInProgress),[t.userId]):e.followingInProgress.filter((function(e){return e!==t.userId}))});default:return e}}},65:function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var r=n(2),s=n(38),a=n(39),c=n(51),i=n(50),o=n(12),l=n(0),u=n.n(l),j=n(1),d=function(e){var t=function(t){Object(c.a)(l,t);var n=Object(i.a)(l);function l(){return Object(s.a)(this,l),n.apply(this,arguments)}return Object(a.a)(l,[{key:"render",value:function(){return this.props.isAuth?Object(j.jsx)(e,Object(r.a)({},this.props)):Object(j.jsx)(o.a,{to:"/login"})}}]),l}(u.a.Component);return t}},67:function(e,t,n){e.exports={photo:"users_photo__1cANG",curentPage:"users_curentPage__3EIZH",user:"users_user__qzhkq",pagination:"users_pagination__3Azpv"}},97:function(e,t,n){e.exports={conteiner:"Navbar_conteiner__3p_uh",conteiner__elem:"Navbar_conteiner__elem__351pI",active:"Navbar_active__21R_N"}},98:function(e,t,n){e.exports={formControl:"FormsControls_formControl__uPmpO",error:"FormsControls_error__188cE",formSumaryEror:"FormsControls_formSumaryEror__227OH"}}},[[324,1,2]]]);
//# sourceMappingURL=main.44dcc187.chunk.js.map